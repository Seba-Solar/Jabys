<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MUEBLES CAPIBARA</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="/Jabys/views/css/styles.css"> -->
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">
      <img src="/images/logo.png" alt="logo" width="150" height="65">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Inicio <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Productos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Precios</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/logins">Iniciar Sesion</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/registro">Registrarse</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/administrador-view">Admin</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Carrusel -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="/images/imagen_2024-05-30_141925866.png" width="450" height="700" class="d-block w-100" alt="Primera imagen">
        <div class="carousel-caption d-none d-md-block">
          <button class="button">VER PRODUCTOS</button>
      </div>
      </div>
      <div class="carousel-item">
        <img src="/images/imagen_2024-05-30_141945804.png" width="450" height="700" class="d-block w-100" alt="Segunda imagen">
        <div class="carousel-caption d-none d-md-block">
          <button class="button">VER PRODUCTOS</button>
      </div>
      </div>
      <div class="carousel-item">
        <img src="/images/imagen_2024-05-30_142014916.png" width="450" height="700" class="d-block w-100" alt="Tercera imagen">
        <div class="carousel-caption d-none d-md-block">
          <button class="button">VER PRODUCTOS</button>
      </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Anterior</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Siguiente</span>
    </a>
  </div>
  <section class="anuncios" id="contenido">
    <div class="container text-center">
      <div class="row row-cols-1 row-cols-md-3 g-4" id="retorno-api">
        <!-- Aquí se cargarán los productos -->
      </div>
    </div>
  </section>
  <!-- Footer -->
  <footer class="bg-light text-center text-lg-start mt-10">
    <div class="container p-4">
      <div class="row">
        <div class="col-md-6 mb-4 mb-md-0">
          <h5 class="text-uppercase">Mi Sitio</h5>
          <p>Desde que dimos vida a MUEBLES CAPIBARA en el año 2024 , en la comuna de San Joaquín,
             nuestra misión ha sido crear y compartir muebles de la mejor calidad. 
             Con gratitud, hemos presenciado cómo más de 100.000 de nuestros muebles han encontrado su lugar en hogares felices. 
             En la actualidad, nos enorgullece ofrecer una encantadora variedad de muebles diseñados para transformar tu hogar en un espacio acogedor y confortable.</p>
        </div>
        <div class="col-md-5 mb-10 mb-md-0">
          <h5 class="text-uppercase">Redes Sociales</h5>
          <ul class="list-unstyled mb-0">
            <li>
              <a href="https://www.facebook.com/?locale=es_LA" class="text-dark">Facebook</a>
            </li>
            <li>
              <a href="https://www.instagram.com" class="text-dark">Instagram</a>
            </li>
            <li>
              <a href="https://web.whatsapp.com" class="text-dark">Whatsapp</a>
            </li>
          </ul>
        </div>
        <div class="col-md-3 mb-4 mb-md-0">
          <!-- Add some space here -->
        </div>
      </div>
    </div>
    <div class="text-center p-3 bg-dark text-white">
      © 2024 MUEBLES CAPIBARA
    </div>
  </footer>
  <script>
    function cargarProductos() {
        return fetch('http://localhost:3000/get-productos')
            .then(response => response.json())
            .then(data => {
                let productosHTML = '';
                data.forEach(producto => {
                    productosHTML += `
                      <div class="col">
                        <div class="card" style="width: 85%; heigth="65%" >
                            <img src="${producto.imagen}" class="card-img-top"  alt="...">
                            <div class="card-body">
                                <h5 class="card-title">${producto.nombre}</h5>
                                <p class="card-text">Precio: ${producto.precio}</p>
                                <p class="card-text">Cantidad: ${producto.cantidad}</p>
                            </div>
                            <div class="card-footer">
                                <small class="text-body-secondary">${producto.descripcion}</small>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
                    `;
                });
                return productosHTML;
            })
            .catch(error => {
                console.error('Error al cargar los productos:', error);
                return '';
            });
    }
    document.addEventListener('DOMContentLoaded', async () => {
        const productosContainer = document.getElementById('retorno-api');
        const productosHTML = await cargarProductos();
        productosContainer.innerHTML = productosHTML;
    });
</script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
